'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _assign=require('babel-runtime/core-js/object/assign'),_assign2=_interopRequireDefault(_assign),_stringify=require('babel-runtime/core-js/json/stringify'),_stringify2=_interopRequireDefault(_stringify),_keys=require('babel-runtime/core-js/object/keys'),_keys2=_interopRequireDefault(_keys),_reduxPersist=require('redux-persist'),_cryptoJs=require('crypto-js'),_cryptoJs2=_interopRequireDefault(_cryptoJs);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}exports.default=function(a,b,c){return(0,_reduxPersist.createTransform)(function(b,d){if(a[d].blacklist){var e={};(0,_keys2.default)(b).map(function(c){a[d].blacklist.includes(c)||(e[c]=b[c])}),b=e}else if(a[d].whitelist){var f={};a[d].whitelist.map(function(a){f[a]=b[a]}),b=f}return a[d].encrypt?(delete b.mergeDeep,{data:_cryptoJs2.default.AES.encrypt((0,_stringify2.default)(b),c).toString(),version:a[d].version}):(b.version||(b.version=a[d].version),b)},function(b,d){if(a[d].version&&(!b.version||b.version!==a[d].version))return a[d].redux.INITIAL_STATE.asMutable();if(a[d].encrypt&&b.data){var e=_cryptoJs2.default.AES.decrypt(b.data,c);return JSON.parse(e.toString(_cryptoJs2.default.enc.Utf8))}return(0,_assign2.default)(a[d].redux.INITIAL_STATE.asMutable(),b)},{whitelist:b})};